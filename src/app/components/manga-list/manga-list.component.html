<div class="mangaList">
  <h1>Entdecke spannende Manga!</h1>

  <div class="search-bar">
    <mat-form-field class="example-form-field" appearance="fill">
      <mat-label>Suche nach deinem Lieblingsmaga</mat-label>
      <input [formControl]="mangaSearchField" type="search" class="form-control" placeholder="One Piece..." matInput
        type="text">
      <button *ngIf="mangaSearchField.value" matSuffix mat-icon-button (click)="mangaSearchField.setValue('')">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </div>


  <div class="content">
    <section *ngIf="JikanApiResponse$ | async as response; else loadSpinner">
      <div *ngIf="!response.data.length">
        <h1>
        FÃ¼r diesen Suchbegriff gab es leider keine Ergebnisse
        </h1>
      </div>
      <div fxLayout="row wrap" fxLayoutAlign="center">
        <div *ngFor="let manga of response.data ;let i=index; trackBy: trackByFn">
          <app-manga-card [hasSynopsis]="true" [mangaData]="manga">
          </app-manga-card>
        </div>
      </div>
      <div [hidden]="!response.data.length">
        <mat-paginator showFirstLastButtons="true" [length]="totalRecords" [pageSize]="pageSize"
          [pageSizeOptions]="[10,25]" (page)="pageEvent($event)" aria-label="Select page">
        </mat-paginator>
      </div>
    </section>

    <ng-template #loadSpinner>
      <mat-spinner></mat-spinner>
    </ng-template>

  </div>
</div>
