<h1 style="text-align: center;">
  Kasse
</h1>


<div fxLayout="column">
  <div fxLayoutAlign="center" fxLayout="row">
    <mat-tab-group [(selectedIndex)]="selectedIndex" mat-stretch-tabs class="example-stretched-tabs mat-elevation-z"
      dynamicHeight>
      <mat-tab label="1. Zustellungsdaten">
        <div>
          <h2 style="text-align: center;">
            Daten überprüfen
          </h2>

          <form class="form-layout" fxLayout="column" fxLayoutAlign="space-around" [formGroup]="userForm">
            <mat-form-field *ngFor="let field of formFieldNames">
              <input matInput [formControlName]="field.formControlName" [type]="field.type"
                [placeholder]="field.placeholder">
            </mat-form-field>
            <ng-container formGroupName="address">
              <mat-form-field *ngFor="let field of formFieldAddress">
                <input matInput [formControlName]="field.formControlName" [type]="field.type"
                  [placeholder]="field.placeholder">
              </mat-form-field>
            </ng-container>
          </form>

          <div class="form-layout" fxLayout="column" fxLayoutAlign="space-around">
            <button [disabled]="userForm.invalid" (click)="selectedIndex=selectedIndex+1" mat-raised-button
              color="primary"> Weiter </button>
          </div>

        </div>
      </mat-tab>
      <mat-tab label="2. Zahlungsmethode">
        <div class="form-layout" fxLayout="column" fxLayoutAlign="space-around">
          <form>
            <mat-form-field>
              <input matInput type="text" placeholder="MatrikelNr">
            </mat-form-field>
          </form>
        </div>
      </mat-tab>


      <mat-tab label="3. Bestellungsübersicht">
        <div class="example-large-box">
          <h1 style="text-align: center;">
            Bestellung Abschließen
          </h1>
          <ul *ngIf="authService.isLoggedIn">
            <ng-container *ngFor="let cartItem of shoppingCartData | async; let ind=index">
              <list-order-item [cartItem]="cartItem" [ind]="ind">
              </list-order-item>
            </ng-container>
          </ul>
          <hr class="order-line">

          <div style="text-align: center; margin:2em;">
            <p style="font-size: 2em;">
              Total: {{OrderTotal | async}} €
            </p>
            <button (click)="makeOrder()" color="primary" mat-raised-button>
              Bestellen
            </button>
          </div>

        </div>
      </mat-tab>

    </mat-tab-group>
  </div>
</div>
